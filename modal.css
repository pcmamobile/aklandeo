/* MODAL BASE */
#modalBg{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  justify-content:center;
  align-items:center;
  z-index:5000;
}
#modalBg.show{display:flex;}
#modalBox{
  background:#fff;
  width:100vw;
  height:100vh;
  max-width:100vw;
  max-height:100vh;
  border-radius:0;
  display:flex;
  flex-direction:column;
  overflow:hidden;
  margin-top:8px;
}
@media(max-width:768px){
  #modalBox{margin-top:0;}
}

/* HEADER */
.modal-top{
  position:sticky;
  top:0;
  z-index:5;
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:10px;
  background:#f97316;
  color:#fff;
  min-height:78px;
  padding:8px 14px 16px 14px;
  border-bottom:1px solid rgba(0,0,0,.08);
  box-shadow:0 2px 4px rgba(0,0,0,.08);
}
.modal-top-left{
  display:flex;
  align-items:flex-end;
  gap:10px;
}
.modal-top-logo{
  width:30px;
  height:30px;
  border-radius:6px;
  object-fit:cover;
}
.modal-top-cid{
  font-weight:900;
  color:#fff;
  line-height:1;
}
.modal-close-btn{
  background:#fff;
  border:none;
  color:#f97316;
  font-weight:900;
  padding:6px 12px;
  border-radius:8px;
  cursor:pointer;
  line-height:1;
}
.modal-close-btn:hover{background:#ffe8d7;}

#modalBody{flex:1 1 auto;overflow:auto;background:#fff;}
#modalContent{
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:14px;
  max-width:1100px;
  margin:0 auto;
}
#modalButtons{
  padding:0 14px 14px;
  max-width:1100px;
  margin:0 auto;
  display:flex;
  flex-direction:column;
  gap:8px;
}
#modalButtons button{
  width:100%;
  padding:14px;
  border-radius:8px;
  font-size:1rem;
  border:none;
  cursor:pointer;
  font-weight:700;
}
#uploadBtn{background:#007bff;color:#fff;}
#viewPictureBtn{background:#16a34a;color:#fff;}
#presentBtn{background:#111827;color:#fff;}
#modalImages{
  padding:0 14px 12px 14px;
  max-width:1100px;
  margin:0 auto;
}

/* modal arrows */
.modal-arrow{
  position:fixed;
  top:50%;
  transform:translateY(-50%);
  background:rgba(0,0,0,0.2);
  backdrop-filter:blur(2px);
  border:none;
  width:48px;
  height:72px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  z-index:5100;
}
#modalPrevFloat{left:10px;}
#modalNextFloat{right:10px;}
.modal-arrow svg{width:26px;height:26px;stroke:#fff;}
@media (max-width:768px){
  .modal-arrow{width:40px;height:60px;}
}

/* HERO IMAGE */
.modal-hero-wrap{
  width:100%;
  border-radius:16px;
  overflow:hidden;
  background:#0f172a;
  border:1px solid rgba(15,23,42,.35);
  max-height:260px;
}
.modal-hero-img{
  width:100%;
  height:260px;
  object-fit:cover;
  display:block;
}

/* PRIMARY BLOCK */
.modal-primary{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:10px;
  background:linear-gradient(135deg,#eff6ff 0%,#dbeafe 40%,#f97316 100%);
  border:1px solid rgba(148,163,184,.35);
  border-radius:16px;
  box-shadow:0 8px 25px rgba(15,23,42,.12);
  padding:10px;
}
.primary-col{
  background:rgba(255,255,255,.45);
  border:1px solid rgba(255,255,255,.25);
  border-radius:12px;
  padding:8px 8px 6px 8px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.primary-row{display:flex;gap:6px;align-items:flex-start;}
.primary-label{
  flex:0 0 95px;
  max-width:95px;
  font-size:.75rem;
  font-weight:700;
  color:#0f172a;
  white-space:nowrap;
}
.primary-value{
  flex:1;
  background:#fff;
  border-radius:10px;
  padding:3px 9px 4px 9px;
  font-weight:800;
  font-size:.8rem;
  color:#0f172a;
  word-break:break-word;
  min-height:27px;
}
.primary-col.group-a .primary-row,
.primary-col.group-d .primary-row{gap:3px;align-items:flex-start;}
.primary-col.group-a .primary-label,
.primary-col.group-d .primary-label{flex:0 0 92px;max-width:92px;}
.primary-col.group-a .primary-value,
.primary-col.group-d .primary-value{flex:1;min-height:30px;margin-left:0;}
.primary-value.status{
  background:#f97316;
  color:#fff;
  box-shadow:0 0 0 1px rgba(255,255,255,.25);
}
@media(max-width:600px){
  .modal-primary{grid-template-columns:1fr;}
  .primary-label{flex:0 0 110px;max-width:110px;}
}

/* mini bars + progress (inside modal) */
.mini-bars{display:flex;flex-direction:column;gap:6px;margin-top:10px;}
.mini-row{display:flex;align-items:center;gap:10px;}
.mini-label{width:82px;text-align:left;font-weight:900;color:#0f172a;letter-spacing:.2px;}
.mini-bar{flex:1;height:18px;background:#e5e7eb;border-radius:999px;overflow:hidden;}
.mini-fill{
  height:100%;
  width:0%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:.8rem;
  font-weight:800;
  color:#fff;
  transition:width 650ms ease-out;
  white-space:nowrap;
  padding:0 6px;
}
.progress-wrap{margin-top:12px;}
.progress-label{font-weight:800;color:#0f172a;margin-bottom:6px;font-size:1.05rem;text-align:center;}
.progress-bar{width:100%;background:#e5e7eb;border-radius:12px;height:28px;overflow:hidden;position:relative;}
.progress-fill{
  height:100%;
  border-radius:12px;
  text-align:center;
  line-height:28px;
  font-weight:800;
  color:#fff;
  font-size:1rem;
  width:0%;
  transition:width 900ms ease-out;
  white-space:nowrap;
  padding:0 8px;
}
